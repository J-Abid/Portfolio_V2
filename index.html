<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muhammad Junaid Abid - Portfolio</title>
    <meta name="description" content="Portfolio of Muhammad Junaid Abid - Project & Product Manager">

    <!-- Dependencies -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <!-- Fonts & Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Fira+Code:wght@400;500&family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        cyan: { 400: '#06b6d4', 500: '#06b6d4', 600: '#0891b2' },
                        slate: { 850: '#151f32', 900: '#0f172a' }
                    },
                    fontFamily: { 
                        sans: ['Inter', 'sans-serif'],
                        mono: ['Fira Code', 'monospace'],
                        display: ['Orbitron', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --primary-color: #06b6d4;
            --primary-rgb: 6, 182, 212;
            --secondary-color: #a855f7;
            --secondary-rgb: 168, 85, 247;
            --accent-color: #10b981;
            --bg-color: #0f172a;
            --bg-secondary: #1e293b;
            --glow-intensity: 1;
            --animation-speed: 1;
        }
        
        *, *::before, *::after { cursor: none !important; }
        
        html { scroll-behavior: smooth; }
        
        body { 
            background: radial-gradient(circle at 50% 50%, #0f172a 0%, #020617 100%);
            background-color: var(--bg-color); 
            color: white; 
            overflow-x: hidden;
            font-family: 'Inter', sans-serif;
            margin: 0;
        }
        
        ::selection { background: var(--primary-color); color: white; }
        
        .glass { 
            background: rgba(30, 41, 59, 0.7); 
            backdrop-filter: blur(16px); 
            -webkit-backdrop-filter: blur(16px); 
            border: 1px solid rgba(255, 255, 255, 0.08); 
        }
        
        .glass-strong {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        /* === CURSORS === */
        /* Fluid Cursor Canvas */
        #cursor-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 999999;
            mix-blend-mode: screen;
            display: none; /* Hidden by default */
        }
        #cursor-canvas.active { display: block; }

        /* Default Outline Cursor */
        #cursor-dot, #cursor-outline { 
            position: fixed; top: 0; left: 0; 
            transform: translate(-50%, -50%); 
            border-radius: 50%; 
            z-index: 999999; 
            pointer-events: none;
            will-change: transform, width, height;
            transition: opacity 0.3s;
        }
        #cursor-dot { 
            width: 10px; height: 10px; 
            background: var(--primary-color);
            box-shadow: 0 0 20px var(--primary-color);
            mix-blend-mode: screen;
        }
        #cursor-outline { 
            width: 45px; height: 45px; 
            border: 2px solid var(--primary-color); 
            transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
            opacity: 0.6;
        }
        #cursor-outline.hover { width: 70px; height: 70px; background: rgba(var(--primary-rgb), 0.15); border-width: 3px; opacity: 1; }
        #cursor-outline.clicking { width: 35px; height: 35px; background: rgba(var(--primary-rgb), 0.4); }
        #cursor-outline.text-hover { width: 4px; height: 35px; border-radius: 2px; border: none; background: var(--primary-color); }
        
        .cursor-trail {
            position: fixed; width: 6px; height: 6px;
            background: var(--primary-color); border-radius: 50%;
            pointer-events: none; z-index: 999998; opacity: 0.5;
            animation: trailFade 0.6s ease-out forwards;
        }
        @keyframes trailFade { to { opacity: 0; transform: scale(0); } }
        
        /* Hide default cursor elements when fluid is active */
        body.fluid-cursor #cursor-dot, 
        body.fluid-cursor #cursor-outline,
        body.fluid-cursor .cursor-trail { display: none !important; }

        /* === COMPONENT STYLES === */
        .magnetic-btn { transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1); }
        
        /* Editable Highlighting */
        .editable-highlight { 
            position: relative; border: 2px dashed rgba(var(--primary-rgb), 0.6);
            padding: 8px; border-radius: 10px; transition: all 0.3s ease;
            background: rgba(var(--primary-rgb), 0.03); z-index: 20;
        }
        .editable-highlight:hover { 
            background: rgba(var(--primary-rgb), 0.12); border-color: var(--primary-color);
            transform: translateY(-2px); box-shadow: 0 10px 30px rgba(var(--primary-rgb), 0.2);
        }
        .editable-highlight::after { 
            content: '‚úèÔ∏è Click to Edit'; position: absolute; top: -35px; right: 0; 
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); 
            color: white; padding: 6px 14px; border-radius: 25px; 
            font-size: 11px; font-weight: 600; opacity: 0; transform: translateY(5px);
            transition: all 0.3s ease; pointer-events: none; white-space: nowrap;
            box-shadow: 0 4px 15px rgba(var(--primary-rgb), 0.4);
        }
        .editable-highlight:hover::after { opacity: 1; transform: translateY(0); }

        /* Media & Grids */
        .media-editable { position: relative; overflow: hidden; border-radius: 12px; }
        .media-editable:hover .media-overlay { opacity: 1; }
        .media-overlay {
            position: absolute; inset: 0; background: rgba(0,0,0,0.7);
            display: flex; align-items: center; justify-content: center;
            opacity: 0; transition: opacity 0.3s ease; border-radius: inherit;
        }
        .projects-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(360px, 1fr)); gap: 2rem; }
        .image-gallery { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .image-gallery img, .image-gallery video {
            width: 100%; height: 130px; object-fit: cover; border-radius: 14px;
            transition: all 0.4s ease; border: 2px solid transparent;
        }
        .image-gallery img:hover { transform: scale(1.08); border-color: var(--primary-color); }
        
        /* Tags & Text */
        .skill-tag { background: rgba(var(--primary-rgb), 0.1); color: var(--primary-color); border: 1px solid rgba(var(--primary-rgb), 0.3); }
        .tool-tag { background: rgba(var(--secondary-rgb), 0.1); color: var(--secondary-color); border: 1px solid rgba(var(--secondary-rgb), 0.3); }
        .text-gradient {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        }
        .shadow-glow-hover:hover { box-shadow: 0 0 30px rgba(var(--primary-rgb), 0.4); }
        
        /* Background Effects */
        .stars { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle 2s infinite ease-in-out; }
        @keyframes twinkle { 0%, 100% { opacity: 0.2; transform: scale(0.8); } 50% { opacity: 1; transform: scale(1.2); } }
        .nebula { position: fixed; border-radius: 50%; filter: blur(100px); pointer-events: none; z-index: 0; animation: nebulaPulse 8s infinite; }
        @keyframes nebulaPulse { 0%, 100% { transform: scale(1); opacity: 0.12; } 50% { transform: scale(1.1); opacity: 0.18; } }
        .shooting-star {
            position: fixed; height: 2px; background: linear-gradient(90deg, white, transparent);
            animation: shoot 0.8s linear forwards; z-index: 0; pointer-events: none;
        }
        @keyframes shoot { from { transform: translate(0,0); opacity: 1; } to { transform: translate(-400px, 400px); opacity: 0; } }

        /* Settings & Scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--bg-color); }
        ::-webkit-scrollbar-thumb { background: linear-gradient(var(--primary-color), var(--secondary-color)); border-radius: 5px; }
        
        .settings-wheel { position: fixed; bottom: 30px; right: 30px; z-index: 1000; }
        .settings-btn {
            width: 60px; height: 60px; border-radius: 50%;
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.95));
            border: 2px solid rgba(var(--primary-rgb), 0.5);
            display: flex; align-items: center; justify-content: center; font-size: 24px;
            transition: all 0.4s ease; box-shadow: 0 0 30px rgba(var(--primary-rgb), 0.2);
        }
        .settings-btn:hover { transform: rotate(180deg) scale(1.1); border-color: var(--primary-color); }
        
        .settings-panel {
            position: absolute; bottom: 75px; right: 0; width: 340px; max-height: 85vh;
            overflow-y: auto; padding: 24px; border-radius: 24px;
            transform-origin: bottom right; border: 1px solid rgba(var(--primary-rgb), 0.2);
        }
        
        .color-picker-wrapper { position: relative; width: 100%; height: 40px; border-radius: 8px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); }
        .color-picker-wrapper input { width: 100%; height: 100%; border: none; background: transparent; cursor: pointer; }
        
        .slider-container input[type="range"] {
            width: 100%; height: 6px; border-radius: 3px;
            background: linear-gradient(90deg, var(--bg-secondary), var(--primary-color));
            outline: none; -webkit-appearance: none;
        }
        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%;
            background: white; cursor: pointer; transition: transform 0.2s;
        }

        /* Mobile & Modals */
        @media (max-width: 768px) {
            .mobile-menu { position: fixed; inset: 0; background: rgba(15,23,42,0.98); z-index: 100; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 2rem; }
            .projects-grid { grid-template-columns: 1fr; }
            .floating-admin-panel { display: none !important; }
        }
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 10000; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .modal-content { max-width: 950px; width: 100%; max-height: 92vh; overflow-y: auto; border-radius: 28px; border: 1px solid rgba(var(--primary-rgb), 0.15); }
        
        /* Toast & Particles */
        .toast {
            position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%) translateY(120px);
            padding: 18px 36px; border-radius: 50px; font-weight: 600; z-index: 100001;
            opacity: 0; transition: all 0.4s ease; display: flex; align-items: center; gap: 10px;
        }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        .toast.success { background: linear-gradient(135deg, #10b981, #059669); }
        .toast.error { background: linear-gradient(135deg, #ef4444, #dc2626); }
        
        .particle { position: fixed; pointer-events: none; z-index: 99997; border-radius: 50%; }
        @keyframes particleFloat { 0% { transform: translate(0,0) scale(1); opacity: 1; } 100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; } }

        /* Animations */
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        .float-animation { animation: float 4s ease-in-out infinite; }
        .shimmer-text {
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--primary-color));
            background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: shimmer 3s linear infinite;
        }
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }

        /* Admin Panel */
        .floating-admin-panel { position: fixed; left: 24px; top: 50%; transform: translateY(-50%); z-index: 999; display: flex; flex-direction: column; gap: 14px; }
        .fab-btn {
            width: 52px; height: 52px; border-radius: 16px; display: flex; align-items: center; justify-content: center;
            font-size: 20px; transition: all 0.3s ease; position: relative; overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        .fab-btn:hover { transform: scale(1.15) translateX(5px); }
        .fab-btn[data-tooltip]:hover::after {
            content: attr(data-tooltip); position: absolute; left: 65px; background: var(--bg-secondary);
            color: white; padding: 8px 14px; border-radius: 8px; font-size: 12px; white-space: nowrap;
        }

        /* Video & Upload */
        .video-container { position: relative; border-radius: 16px; overflow: hidden; transition: transform 0.4s; }
        .video-container:hover { transform: scale(1.01); }
        .upload-zone { border: 3px dashed rgba(var(--primary-rgb), 0.4); border-radius: 20px; padding: 45px; text-align: center; transition: all 0.3s; background: rgba(var(--primary-rgb), 0.03); }
        .upload-zone:hover { border-color: var(--primary-color); background: rgba(var(--primary-rgb), 0.1); }
        
        .btn-electric {
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            transition: all 0.3s;
        }
        .btn-electric:hover { box-shadow: 0 0 20px var(--primary-color); transform: translateY(-2px); }
        
        /* Select Dropdown */
        .custom-select {
            background-color: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            padding: 8px;
            border-radius: 8px;
            width: 100%;
            outline: none;
        }
    </style>
</head>
<body>
    <canvas id="cursor-canvas"></canvas>
    <div id="cursor-dot"></div>
    <div id="cursor-outline"></div>
    <div id="stars-container" class="stars"></div>
    <div id="toast-container"></div>
    <div id="particle-container"></div>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, createContext, useContext, useCallback, useMemo } = React;

        // === CONTEXT ===
        const ThemeContext = createContext();

        // === UTILITIES ===
        const showToast = (message, type = 'success') => {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            const icon = { success: '‚ú®', error: '‚ùå', info: '‚ÑπÔ∏è', warning: '‚ö†Ô∏è' }[type] || '‚ú®';
            toast.innerHTML = `<span>${icon}</span><span>${message}</span>`;
            container.appendChild(toast);
            
            requestAnimationFrame(() => toast.classList.add('show'));
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 400);
            }, 3500);

            if (type === 'success' && window.confetti) {
                confetti({ particleCount: 80, spread: 70, origin: { y: 0.8 }, colors: ['#06b6d4', '#a855f7', '#10b981', '#f59e0b'] });
            }
        };

        const createClickParticles = (x, y, colors) => {
            const container = document.getElementById('particle-container');
            for (let i = 0; i < 12; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                const angle = (i / 12) * Math.PI * 2;
                const velocity = 60 + Math.random() * 40;
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity - 30;
                particle.style.cssText = `
                    left: ${x}px; top: ${y}px;
                    width: ${6 + Math.random() * 6}px; height: ${6 + Math.random() * 6}px;
                    background: ${colors[Math.floor(Math.random() * colors.length)]};
                    --tx: ${tx}px; --ty: ${ty}px;
                    animation: particleFloat 0.8s ease-out forwards;
                `;
                container.appendChild(particle);
                setTimeout(() => particle.remove(), 800);
            }
        };

        const hexToRgb = (hex) => {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` : '6, 182, 212';
        };

        // === INITIAL DATA ===
        const initialData = {
            siteTitle: "Muhammad Junaid Abid - Portfolio",
            navBrand: { first: "Junaid", second: "Abid" },
            heroGreeting: "Hello, I am",
            name: "Muhammad Junaid Abid",
            role: "Project Manager / Product Manager",
            tagline: "Turning Vision into Reality",
            summary: "Agile-savvy Project & Product Manager with 6+ years of global experience driving SaaS innovation, automation, and business growth. Passionate about turning complex ideas into scalable products that deliver clarity, impact, and momentum.",
            email: "mj.abid@outlook.com",
            phone: "(+49) 163-2560561",
            location: "Munich, Germany",
            linkedin: "https://linkedin.com",
            github: "https://github.com",
            profileImage: "",
            cvUrl: "",
            cvFileName: "",
            footerText: "Built with creativity and passion ‚ú®",
            sectionHeaders: {
                experience: "Professional Experience",
                experienceSubtitle: "A journey through innovation and impact",
                skills: "Technical Skills",
                skillsSubtitle: "Tools & technologies I work with",
                projects: "Featured Projects",
                projectsSubtitle: "Explore my portfolio of innovative projects spanning SaaS development, IoT solutions, and enterprise platforms.",
                contact: "Connect Globally",
                contactTitle: "Connect Globally",
                contactSubtitle: "Reach out from anywhere in the world"
            },
            experience: [
                { id: 1, role: "Project Manager", company: "EMIRAT AG", location: "Munich", period: "2023 - 2024", desc: "Led 4-member team, accelerating delivery by 25% via sprint optimizations. Added ‚Ç¨150K+ revenue pipeline via client negotiations. Built first-ever Notion documentation system.", highlights: ["25% faster delivery", "‚Ç¨150K+ pipeline", "Notion system"] },
                { id: 2, role: "Business Development Manager", company: "NAOTILUS GmbH", location: "Munich", period: "2022 - 2023", desc: "Designed SaaS business model for EU no-code energy platforms. Secured ‚Ç¨500K+ funding. Transformed thesis into funded product with 80% accuracy.", highlights: ["‚Ç¨500K+ funding", "SaaS model", "80% accuracy"] },
                { id: 3, role: "Business Analyst", company: "MBI Business Innovation", location: "Munich", period: "2019 - 2020", desc: "Launched 'InnoTalent Germany' HR platform. Optimized product-market fit through persona-driven development. Secured strategic partnerships.", highlights: ["HR platform launch", "Strategic partnerships"] },
                { id: 4, role: "Requirements Engineer", company: "Infineon Technologies", location: "Munich", period: "2018 - 2019", desc: "Managed RDDF lifecycle using Confluence & JIRA. Built workflows to accelerate publishing. Reduced documentation release time by 30%.", highlights: ["30% time reduction", "JIRA workflows"] },
                { id: 5, role: "QA/QC Engineer", company: "Advance Vision", location: "Saudi Arabia", period: "2014 - 2016", desc: "Managed 75+ workers on mega energy projects. Cut downtime by 15%. Automated workflows via Excel/Word. Delivered 100% error-free inspection logs.", highlights: ["75+ team", "15% downtime cut", "100% accuracy"] }
            ],
            projects: [
                { id: 1, title: "No-Code Digital Twin Platform", shortDesc: "SaaS platform digitizing asset management in district heat networks.", longDesc: "A comprehensive SaaS platform designed to digitize and optimize asset management in district heating networks. This EXIST-funded project leverages cutting-edge no-code technology.", company: "NAOTILUS GmbH", year: "2023", link: "", skills: ["Product Management", "Agile", "Business Development", "UX Design"], tools: ["Figma", "JIRA", "Confluence", "Python", "AWS"], images: ["https://images.unsplash.com/photo-1518770660439-4636190af475?w=600", "https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=600", "https://images.unsplash.com/photo-1504384308090-c894fdcc538d?w=600"], videos: [], pdfs: [] },
                { id: 2, title: "Gamified 3D Training Platform", shortDesc: "Designed a gamified 3D training platform for enterprise employees.", longDesc: "Developed an immersive gamified 3D training platform for Siemens, reaching over 293,000 employees worldwide with a 90% satisfaction rate.", company: "Siemens AG", year: "2022", link: "", skills: ["Game Design", "3D Modeling", "Instructional Design", "Project Management"], tools: ["Unity", "Blender", "C#", "Adobe Creative Suite"], images: ["https://images.unsplash.com/photo-1614294148960-9aa740632a87?w=600", "https://images.unsplash.com/photo-1592478411213-6153e4ebc07d?w=600", "https://images.unsplash.com/photo-1593508512255-86ab42a8e620?w=600"], videos: [], pdfs: [] },
                { id: 3, title: "IoT Gas Flow Controller", shortDesc: "IoT-enabled gas flow controller powered by biogas engine.", longDesc: "An innovative IoT-enabled, battery-operated gas flow controller powered by a 2-stroke biogas engine combining hardware engineering with software development.", company: "Independent", year: "2021", link: "", skills: ["IoT Development", "Hardware Design", "Embedded Systems"], tools: ["Arduino", "Raspberry Pi", "Python", "MQTT"], images: ["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600", "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=600"], videos: [], pdfs: [] },
                { id: 4, title: "InnoTalent HR Platform", shortDesc: "Revolutionary HR platform connecting German enterprises with global talent.", longDesc: "Launched 'InnoTalent Germany', a comprehensive HR platform designed to connect German enterprises with international talent.", company: "MBI", year: "2020", link: "", skills: ["Product Strategy", "Market Research", "Partnership Development"], tools: ["Notion", "Miro", "HubSpot", "Zapier"], images: ["https://images.unsplash.com/photo-1552664730-d307ca884978?w=600", "https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=600"], videos: [], pdfs: [] }
            ],
            skills: ["JIRA", "Trello", "Asana", "Notion", "Confluence", "Figma", "Miro", "PowerBI", "Tableau", "Python", "Zapier", "ChatGPT", "Agile/Scrum", "AutoCAD"],
            socialLinks: [
                { id: 1, icon: "fa-linkedin-in", url: "https://linkedin.com", label: "LinkedIn" },
                { id: 2, icon: "fa-github", url: "https://github.com", label: "GitHub" },
                { id: 3, icon: "fa-behance", url: "https://behance.net", label: "Behance" },
                { id: 4, icon: "fa-xing", url: "https://xing.com", label: "Xing" }
            ]
        };

        const ADMIN_EMAIL = "mj.abid@outlook.com";
        const ADMIN_PASS = "@!Oh@26161";

        const presetColors = ['#06b6d4', '#a855f7', '#10b981', '#f59e0b', '#ef4444', '#ec4899', '#6366f1', '#14b8a6', '#8b5cf6', '#f97316'];

        // === 1. FLUID CURSOR COMPONENT ===
        const FluidCursor = () => {
            const { theme } = useContext(ThemeContext);
            const particles = useRef([]);
            
            useEffect(() => {
                const canvas = document.getElementById('cursor-canvas');
                if(!canvas) return;
                
                // Toggle active class for visibility
                if(theme.cursorType === 'fluid') {
                    canvas.classList.add('active');
                    document.body.classList.add('fluid-cursor');
                } else {
                    canvas.classList.remove('active');
                    document.body.classList.remove('fluid-cursor');
                    return; // Stop animation loop if not active
                }

                const ctx = canvas.getContext('2d');
                let animId;

                const resize = () => {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                };
                window.addEventListener('resize', resize);
                resize();

                const onMove = (e) => {
                    // Spawn particles based on density setting
                    const count = theme.cursorDensity || 3;
                    for(let i=0; i<count; i++) {
                        particles.current.push({
                            x: e.clientX, y: e.clientY,
                            vx: (Math.random()-0.5) * 1.5,
                            vy: (Math.random()-0.5) * 1.5,
                            life: 1.0,
                            // Use custom cursor size
                            size: Math.random() * (theme.cursorSize || 40) + 5,
                            color: theme.primaryColor
                        });
                    }
                };
                window.addEventListener('mousemove', onMove);

                const animate = () => {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    
                    particles.current.forEach((p, i) => {
                        p.x += p.vx; p.y += p.vy;
                        
                        // Use decay based on "life" setting (controls trail length/speed)
                        const decay = 0.02 / (theme.cursorLife || 1); 
                        p.life -= decay; 
                        p.size *= 0.94;

                        if(p.life > 0) {
                            ctx.beginPath();
                            // Hex to RGB
                            const hex = p.color.replace('#','');
                            let r,g,b;
                            if(hex.length === 3) {
                                r = parseInt(hex[0]+hex[0], 16);
                                g = parseInt(hex[1]+hex[1], 16);
                                b = parseInt(hex[2]+hex[2], 16);
                            } else {
                                r = parseInt(hex.substring(0,2), 16);
                                g = parseInt(hex.substring(2,4), 16);
                                b = parseInt(hex.substring(4,6), 16);
                            }
                            
                            const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.size);
                            grad.addColorStop(0, `rgba(${r},${g},${b},${p.life * 0.3})`);
                            grad.addColorStop(1, `rgba(${r},${g},${b},0)`);
                            
                            ctx.fillStyle = grad;
                            ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
                            ctx.fill();
                        } else {
                            particles.current.splice(i, 1);
                        }
                    });
                    animId = requestAnimationFrame(animate);
                };
                animate();

                return () => {
                    window.removeEventListener('resize', resize);
                    window.removeEventListener('mousemove', onMove);
                    cancelAnimationFrame(animId);
                };
            }, [theme.cursorType, theme.primaryColor, theme.cursorSize, theme.cursorDensity, theme.cursorLife]);

            return null;
        };

        // === 2. GYROSCOPE PLANET (Replacing Saturn3D) ===
        const GyroPlanet = () => {
            const containerRef = useRef(null);
            const { theme } = useContext(ThemeContext);
            
            // Interaction State
            const state = useRef({
                isDragging: false,
                prevMouse: { x:0, y:0 },
                vel: { x:0, y:0 }
            });

            // Scene Objects Reference
            const refs = useRef({
                planet: null,
                ringGroup: null,
                stars: null,
                asteroids: null,
                shootGroup: null
            });

            // Init Scene
            useEffect(() => {
                if(!containerRef.current) return;

                const scene = new THREE.Scene();
                scene.fog = new THREE.FogExp2(0x050505, 0.015);

                const width = containerRef.current.clientWidth;
                const height = 600; 
                
                const camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);
                camera.position.z = 25;

                const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                renderer.setSize(width, height);
                renderer.setPixelRatio(window.devicePixelRatio);
                containerRef.current.appendChild(renderer.domElement);

                // --- A. MATTE PLANET ---
                const planetGeo = new THREE.SphereGeometry(3.5, 64, 64);
                const planetMat = new THREE.MeshStandardMaterial({
                    color: theme.planetColor || "#2a2a2a",
                    roughness: 0.9,
                    metalness: 0.1,
                    flatShading: false
                });
                const planet = new THREE.Mesh(planetGeo, planetMat);
                
                const planetGroup = new THREE.Group();
                planetGroup.add(planet);
                scene.add(planetGroup);
                refs.current.planet = planet;

                // --- B. RINGS CONTAINER ---
                const ringGroup = new THREE.Group();
                planetGroup.add(ringGroup);
                refs.current.ringGroup = ringGroup;

                // --- C. SPACE ELEMENTS ---
                const starGeo = new THREE.BufferGeometry();
                const starCount = 1500;
                const starPos = new Float32Array(starCount * 3);
                for(let i=0; i<starCount*3; i++) starPos[i] = (Math.random()-0.5)*200;
                starGeo.setAttribute('position', new THREE.BufferAttribute(starPos, 3));
                const starMat = new THREE.PointsMaterial({ size: 0.15, color: 0xffffff, transparent: true, opacity: 0.8 });
                const stars = new THREE.Points(starGeo, starMat);
                scene.add(stars);
                refs.current.stars = stars;

                // Asteroids
                const astGeo = new THREE.BufferGeometry();
                const astCount = 400;
                const astPos = new Float32Array(astCount * 3);
                for(let i=0; i<astCount; i++) {
                    const ang = Math.random() * Math.PI * 2;
                    const rad = 10 + Math.random() * 8;
                    astPos[i*3] = Math.cos(ang) * rad;
                    astPos[i*3+1] = (Math.random()-0.5) * 3; 
                    astPos[i*3+2] = Math.sin(ang) * rad;
                }
                astGeo.setAttribute('position', new THREE.BufferAttribute(astPos, 3));
                const astMat = new THREE.PointsMaterial({ size: 0.1, color: 0xaaaaaa });
                const asteroids = new THREE.Points(astGeo, astMat);
                scene.add(asteroids);
                refs.current.asteroids = asteroids;

                const shootGroup = new THREE.Group();
                scene.add(shootGroup);
                refs.current.shootGroup = shootGroup;

                // --- D. LIGHTING ---
                const sunLight = new THREE.DirectionalLight(0xffffff, 1.2);
                sunLight.position.set(10, 10, 20);
                scene.add(sunLight);
                
                const ambient = new THREE.AmbientLight(0x404040, 1.5); 
                scene.add(ambient);

                // --- EVENTS ---
                const onDown = (e) => {
                    if(!containerRef.current || !containerRef.current.contains(e.target)) return;
                    state.current.isDragging = true;
                    state.current.prevMouse = { x: e.clientX, y: e.clientY };
                };
                const onUp = () => state.current.isDragging = false;
                const onMove = (e) => {
                    if(state.current.isDragging) {
                        const dx = e.clientX - state.current.prevMouse.x;
                        const dy = e.clientY - state.current.prevMouse.y;
                        state.current.vel.y += dx * 0.0005;
                        state.current.vel.x += dy * 0.0005;
                        state.current.prevMouse = { x: e.clientX, y: e.clientY };
                    }
                };

                window.addEventListener('mousedown', onDown);
                window.addEventListener('mouseup', onUp);
                window.addEventListener('mousemove', onMove);

                // Loop
                const animate = () => {
                    requestAnimationFrame(animate);
                    const speed = theme.gyroSpeed || 1;

                    if(!state.current.isDragging) {
                        state.current.vel.x *= 0.95;
                        state.current.vel.y *= 0.95;
                        planetGroup.rotation.y += 0.002 * speed;
                    }
                    planetGroup.rotation.y += state.current.vel.y;
                    planetGroup.rotation.x += state.current.vel.x;

                    if(ringGroup.children.length === 3) {
                        ringGroup.children[0].rotation.z += 0.01 * speed;
                        ringGroup.children[1].rotation.z -= 0.008 * speed;
                        ringGroup.children[2].rotation.z += 0.012 * speed;
                    }

                    asteroids.rotation.y -= 0.0005 * speed;
                    renderer.render(scene, camera);
                };
                animate();

                containerRef.current.rebuildRings = (thickness, colors) => {
                    while(ringGroup.children.length) {
                        const m = ringGroup.children[0];
                        m.geometry.dispose(); m.material.dispose();
                        ringGroup.remove(m);
                    }
                    const createRing = (rad, tilt, color) => {
                        const geo = new THREE.TorusGeometry(rad, thickness, 16, 100);
                        const mat = new THREE.MeshBasicMaterial({ 
                            color: color, 
                            transparent: true, opacity: 0.8,
                            side: THREE.DoubleSide
                        });
                        const mesh = new THREE.Mesh(geo, mat);
                        mesh.rotation.x = tilt;
                        return mesh;
                    };
                    ringGroup.add(createRing(5.0, Math.PI/2.1, colors[0]));
                    ringGroup.add(createRing(6.5, Math.PI/6, colors[1]));
                    ringGroup.add(createRing(8.0, -Math.PI/4, colors[2]));
                };

                return () => {
                    window.removeEventListener('mousedown', onDown);
                    window.removeEventListener('mouseup', onUp);
                    window.removeEventListener('mousemove', onMove);
                    if(containerRef.current) containerRef.current.innerHTML = '';
                };
            }, []);

            useEffect(() => {
                if(containerRef.current?.rebuildRings) {
                    containerRef.current.rebuildRings(
                        theme.ringThickness || 0.15, 
                        [theme.ring1Color || "#ff0055", theme.ring2Color || "#00f0ff", theme.ring3Color || "#ccff00"]
                    );
                }
            }, [theme.ringThickness, theme.ring1Color, theme.ring2Color, theme.ring3Color]);

            useEffect(() => {
                if(refs.current.planet) refs.current.planet.material.color.set(theme.planetColor || "#2a2a2a");
            }, [theme.planetColor]);

            useEffect(() => {
                if(refs.current.stars) refs.current.stars.visible = theme.show3DStars !== false;
                if(refs.current.asteroids) refs.current.asteroids.visible = theme.showAsteroids !== false;
                if(refs.current.shootGroup) refs.current.shootGroup.visible = theme.showShootingStars !== false;
            }, [theme.show3DStars, theme.showAsteroids, theme.showShootingStars]);

            useEffect(() => {
                const interval = setInterval(() => {
                    if(theme.showShootingStars === false) return;
                    if(!refs.current.shootGroup) return;

                    const geo = new THREE.BufferGeometry().setFromPoints([
                        new THREE.Vector3(0,0,0), new THREE.Vector3(0,0,4)
                    ]);
                    const mat = new THREE.LineBasicMaterial({ color: 0xffffff, transparent: true, opacity: 1 });
                    const star = new THREE.Line(geo, mat);
                    
                    star.position.set((Math.random()-0.5)*80, (Math.random()-0.5)*80, -30);
                    star.lookAt(0,0,0);
                    
                    refs.current.shootGroup.add(star);
                    
                    const animateStar = () => {
                        if(!star) return;
                        star.translateZ(2);
                        star.material.opacity -= 0.05;
                        if(star.material.opacity <= 0) {
                            refs.current.shootGroup.remove(star);
                            geo.dispose(); mat.dispose();
                        } else {
                            requestAnimationFrame(animateStar);
                        }
                    };
                    animateStar();
                }, 200);
                return () => clearInterval(interval);
            }, [theme.showShootingStars]);

            return <div ref={containerRef} className="w-full h-[600px] cursor-move" title="Drag to rotate Gyro" />;
        };

        // === STAR FIELD (Global Background) ===
        const StarField = ({ theme }) => {
            useEffect(() => {
                const container = document.getElementById('stars-container');
                container.innerHTML = '';
                if(theme.showBgStars === false) return;

                for (let i = 0; i < 180; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    star.style.cssText = `
                        left: ${Math.random() * 100}%; 
                        top: ${Math.random() * 100}%;
                        width: ${Math.random() * 2.5 + 0.5}px;
                        animation-delay: ${Math.random() * 3}s;
                    `;
                    star.style.height = star.style.width;
                    container.appendChild(star);
                }
            }, [theme.showBgStars]);
            return null;
        };

        // === NEBULA ===
        const NebulaBackground = ({ theme }) => {
            if (theme.spaceEffects === false) return null;
            return (
                <>
                    <div className="nebula" style={{ top: '5%', left: '15%', width: '600px', height: '600px', background: `radial-gradient(circle, ${theme.primaryColor}50, transparent 70%)` }} />
                    <div className="nebula" style={{ bottom: '10%', right: '5%', width: '500px', height: '500px', background: `radial-gradient(circle, ${theme.secondaryColor}40, transparent 70%)` }} />
                    <div className="nebula" style={{ top: '50%', left: '50%', width: '800px', height: '800px', transform: 'translate(-50%, -50%)', background: `radial-gradient(circle, ${theme.accentColor || '#10b981'}20, transparent 70%)` }} />
                </>
            );
        };

        // === COMPONENTS: VideoPlayer, Modals, Cards ===
        const VideoHoverPlayer = ({ src, className, isAdmin, onRemove }) => {
            const videoRef = useRef(null);
            const [isPlaying, setIsPlaying] = useState(false);
            const isEmbed = src?.includes('youtube') || src?.includes('vimeo');
            const handleMouseEnter = () => { if (videoRef.current && !isEmbed) { videoRef.current.play().catch(() => {}); setIsPlaying(true); } };
            const handleMouseLeave = () => { if (videoRef.current && !isEmbed) { videoRef.current.pause(); videoRef.current.currentTime = 0; setIsPlaying(false); } };
            return (
                <div className={`video-container ${isAdmin ? 'media-editable' : ''} ${className}`} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>
                    {isEmbed ? <iframe src={src} className="w-full h-full rounded-lg" allowFullScreen allow="autoplay" /> : 
                    <><video ref={videoRef} src={src} className="w-full h-full object-cover rounded-lg" muted loop playsInline />{!isPlaying && <div className="video-play-icon absolute inset-0 flex items-center justify-center bg-black/40"><span className="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center text-2xl shadow-lg">‚ñ∂</span></div>}</>}
                    {isAdmin && <div className="media-overlay"><button className="media-btn bg-red-600 text-white w-10 h-10 rounded-full" onClick={onRemove}>üóëÔ∏è</button></div>}
                </div>
            );
        };

        const MediaManagerModal = ({ isOpen, onClose, projectId, mediaType, data, setData, theme }) => {
            const [urlInput, setUrlInput] = useState('');
            if (!isOpen) return null;
            const project = data.projects.find(p => p.id === projectId);
            const mediaArray = project[mediaType] || [];
            const addMedia = (url, fileName = '') => {
                if (!url?.trim()) return;
                const newData = { ...data };
                const idx = newData.projects.findIndex(p => p.id === projectId);
                if (mediaType === 'pdfs') newData.projects[idx].pdfs = [...(newData.projects[idx].pdfs || []), { url, name: fileName || 'Document.pdf' }];
                else newData.projects[idx][mediaType] = [...(newData.projects[idx][mediaType] || []), url];
                setData(newData); localStorage.setItem('portfolioData', JSON.stringify(newData)); setUrlInput(''); showToast('Added!');
            };
            const removeMedia = (index) => {
                const newData = { ...data }; const idx = newData.projects.findIndex(p => p.id === projectId);
                newData.projects[idx][mediaType] = newData.projects[idx][mediaType].filter((_, i) => i !== index);
                setData(newData); localStorage.setItem('portfolioData', JSON.stringify(newData));
            };
            return (
                <div className="modal-overlay" onClick={onClose}><div className="modal-content glass-strong p-8" onClick={e => e.stopPropagation()}>
                    <h2 className="text-2xl font-bold mb-4">Manage {mediaType}</h2>
                    <div className="flex gap-3 mb-6"><input className="flex-1 bg-slate-800 p-3 rounded text-white" value={urlInput} onChange={e => setUrlInput(e.target.value)} placeholder="URL..." /><button onClick={() => addMedia(urlInput)} className="px-6 py-3 rounded bg-cyan-600 font-bold">Add</button></div>
                    <div className="media-grid grid grid-cols-2 md:grid-cols-4 gap-4">{mediaArray.map((item, i) => (
                        <div key={i} className="relative group aspect-video bg-slate-800 rounded overflow-hidden">
                            {mediaType === 'images' && <img src={item} className="w-full h-full object-cover" />}
                            {mediaType === 'videos' && <video src={item} className="w-full h-full object-cover" />}
                            {mediaType === 'pdfs' && <div className="flex items-center justify-center h-full">PDF</div>}
                            <button onClick={() => removeMedia(i)} className="absolute top-2 right-2 bg-red-600 text-white w-6 h-6 rounded-full text-xs">√ó</button>
                        </div>
                    ))}</div>
                </div></div>
            );
        };

        const EditModal = ({ editModal, setEditModal, data, setData, theme }) => {
            if (!editModal.open) return null;
            const save = () => {
                let newData = { ...data };
                if (editModal.path) {
                    const keys = editModal.path.split('.');
                    let obj = newData;
                    for (let i = 0; i < keys.length - 1; i++) obj = obj[keys[i]];
                    obj[keys[keys.length - 1]] = editModal.isArray ? editModal.value.split(',').map(s => s.trim()).filter(Boolean) : editModal.value;
                }
                setData(newData); localStorage.setItem('portfolioData', JSON.stringify(newData)); setEditModal({ open: false }); showToast('Saved!');
            };
            return (
                <div className="modal-overlay" onClick={() => setEditModal({ open: false })}><div className="glass-strong p-8 rounded-3xl w-full max-w-lg" onClick={e => e.stopPropagation()}>
                    <h2 className="text-xl font-bold mb-6 text-gradient">{editModal.label}</h2>
                    {editModal.type === 'textarea' ? <textarea rows="6" className="w-full bg-slate-800 border-2 border-slate-600 rounded-xl p-4 text-white" value={editModal.value} onChange={(e) => setEditModal({...editModal, value: e.target.value})} /> : <input type="text" className="w-full bg-slate-800 border-2 border-slate-600 rounded-xl p-4 text-white" value={editModal.value} onChange={(e) => setEditModal({...editModal, value: e.target.value})} />}
                    <div className="flex gap-4 mt-4"><button onClick={() => setEditModal({ open: false })} className="flex-1 py-3 bg-slate-700 rounded-xl">Cancel</button><button onClick={save} className="flex-1 py-3 rounded-xl font-bold bg-cyan-600">Save</button></div>
                </div></div>
            );
        };

        const ProjectCard = ({ project, onClick, isAdmin, theme, onManageImages, onDelete }) => (
            <div className="glass rounded-3xl overflow-hidden group transition-all duration-500 hover:shadow-glow-hover hover:-translate-y-2 relative" data-aos="fade-up">
                {isAdmin && <button className="absolute top-2 right-2 w-8 h-8 bg-red-600 rounded-full text-white z-20" onClick={(e) => { e.stopPropagation(); onDelete(); }}>√ó</button>}
                <div className="image-gallery p-4 bg-slate-800/40">
                    {project.images?.slice(0, 3).map((img, idx) => (
                        <div key={idx} className={isAdmin ? 'media-editable' : ''}>
                            <img src={img} alt="" className="rounded-xl" />
                            {isAdmin && <div className="media-overlay rounded-xl"><button className="media-btn bg-blue-600 text-white text-xs px-2" onClick={(e) => { e.stopPropagation(); onManageImages(); }}>Edit</button></div>}
                        </div>
                    ))}
                    {(!project.images || project.images.length === 0) && <div className="col-span-3 h-28 flex items-center justify-center text-slate-500">{isAdmin ? <button onClick={(e) => { e.stopPropagation(); onManageImages(); }}>+ Add Images</button> : 'No images'}</div>}
                </div>
                <div className="p-6" onClick={onClick}>
                    <div className="flex justify-between items-start mb-3"><h3 className="text-xl font-bold text-white">{project.title}</h3><span className="text-xs px-3 py-1 rounded-full bg-slate-800 text-slate-400">{project.year}</span></div>
                    <p className="text-sm font-medium mb-3" style={{ color: theme.primaryColor }}>{project.company}</p>
                    <p className="text-slate-400 text-sm mb-5 line-clamp-2">{project.shortDesc}</p>
                    <div className="flex flex-wrap gap-2 mb-4">{project.skills?.slice(0, 2).map(s => <span key={s} className="skill-tag text-xs px-3 py-1 rounded-full">{s}</span>)}</div>
                    <button className="w-full py-3 rounded-xl font-semibold text-sm bg-slate-800 hover:bg-slate-700 text-cyan-400">View Details ‚Üí</button>
                </div>
            </div>
        );

        // === SETTINGS PANEL (Merged) ===
        const SettingsPanel = ({ isOpen, theme, setTheme }) => {
            if (!isOpen) return null;

            const updateColor = (color, type) => {
                const newTheme = { ...theme, [type]: color };
                setTheme(newTheme);
                if(type === 'primaryColor' || type === 'secondaryColor') {
                    document.documentElement.style.setProperty(`--${type.replace('Color', '-color')}`, color);
                    document.documentElement.style.setProperty(`--${type.replace('Color', '-rgb')}`, hexToRgb(color));
                }
            };

            const handleChange = (key, val) => setTheme({ ...theme, [key]: val });

            return (
                <div className="settings-panel glass-strong" data-aos="zoom-in">
                    <h3 className="text-xl font-bold mb-6 text-gradient">‚ú® Settings</h3>
                    
                    {/* Main Colors */}
                    <div className="mb-6 space-y-4">
                        <div>
                            <label className="text-xs text-slate-400 uppercase tracking-widest mb-2 block">Primary Color</label>
                            <div className="flex gap-2 flex-wrap mb-2">
                                {presetColors.slice(0,5).map(c => <button key={c} className={`w-6 h-6 rounded-full border border-white/20 ${theme.primaryColor===c?'ring-2 ring-white':''}`} style={{background:c}} onClick={()=>updateColor(c,'primaryColor')}/>)}
                            </div>
                            <input type="color" className="w-full h-8 rounded cursor-pointer bg-transparent" value={theme.primaryColor} onChange={e=>updateColor(e.target.value,'primaryColor')} />
                        </div>
                    </div>

                    <hr className="border-slate-700 my-4" />

                    {/* Cursor Selection */}
                    <div className="mb-6">
                        <label className="text-xs text-slate-400 uppercase tracking-widest mb-2 block">Cursor Style</label>
                        <select 
                            value={theme.cursorType || 'default'} 
                            onChange={(e) => handleChange('cursorType', e.target.value)}
                            className="custom-select mb-3"
                        >
                            <option value="default">Outline & Dot (Default)</option>
                            <option value="fluid">Fluid Smoke (Gyro)</option>
                        </select>

                        {/* Granular Controls for Fluid Cursor */}
                        {theme.cursorType === 'fluid' && (
                            <div className="pl-3 border-l-2 border-slate-700 space-y-3 animate-pulse">
                                <div>
                                    <label className="text-[10px] text-gray-400 block mb-1">FOG SIZE (THICKNESS): {Math.round(theme.cursorSize || 40)}</label>
                                    <input type="range" min="10" max="100" value={theme.cursorSize || 40} onChange={e => handleChange('cursorSize', parseInt(e.target.value))} className="w-full h-1 accent-cyan-500" />
                                </div>
                                <div>
                                    <label className="text-[10px] text-gray-400 block mb-1">DENSITY (PARTICLES): {theme.cursorDensity || 3}</label>
                                    <input type="range" min="1" max="10" value={theme.cursorDensity || 3} onChange={e => handleChange('cursorDensity', parseInt(e.target.value))} className="w-full h-1 accent-cyan-500" />
                                </div>
                                <div>
                                    <label className="text-[10px] text-gray-400 block mb-1">TRAIL LIFE (SPEED): {(theme.cursorLife || 1).toFixed(1)}</label>
                                    <input type="range" min="0.5" max="3" step="0.1" value={theme.cursorLife || 1} onChange={e => handleChange('cursorLife', parseFloat(e.target.value))} className="w-full h-1 accent-cyan-500" />
                                </div>
                            </div>
                        )}
                    </div>

                    <hr className="border-slate-700 my-4" />

                    {/* Gyroscope / Planet Settings */}
                    <div className="space-y-4">
                        <h4 className="text-sm font-bold text-white">ü™ê Planet Config</h4>
                        
                        <div>
                            <label className="text-[10px] text-gray-400 block mb-1">PLANET COLOR (MATTE)</label>
                            <div className="flex items-center gap-2">
                                <input type="color" value={theme.planetColor || "#2a2a2a"} onChange={e => handleChange('planetColor', e.target.value)} className="w-8 h-8 rounded border-none bg-transparent" />
                                <span className="text-xs text-gray-500">{theme.planetColor || "#2a2a2a"}</span>
                            </div>
                        </div>

                        <div className="grid grid-cols-3 gap-2">
                            <div>
                                <label className="text-[10px] text-gray-400 block">RING 1</label>
                                <input type="color" value={theme.ring1Color || "#ff0055"} onChange={e => handleChange('ring1Color', e.target.value)} className="w-full h-6 rounded" />
                            </div>
                            <div>
                                <label className="text-[10px] text-gray-400 block">RING 2</label>
                                <input type="color" value={theme.ring2Color || "#00f0ff"} onChange={e => handleChange('ring2Color', e.target.value)} className="w-full h-6 rounded" />
                            </div>
                            <div>
                                <label className="text-[10px] text-gray-400 block">RING 3</label>
                                <input type="color" value={theme.ring3Color || "#ccff00"} onChange={e => handleChange('ring3Color', e.target.value)} className="w-full h-6 rounded" />
                            </div>
                        </div>

                        <div>
                            <label className="text-[10px] text-gray-400 block">RING THICKNESS</label>
                            <input type="range" min="0.01" max="0.5" step="0.01" value={theme.ringThickness || 0.15} onChange={e => handleChange('ringThickness', parseFloat(e.target.value))} className="w-full accent-cyan-500" />
                        </div>

                        <div>
                            <label className="text-[10px] text-gray-400 block">ROTATION SPEED</label>
                            <input type="range" min="0" max="5" step="0.1" value={theme.gyroSpeed || 1} onChange={e => handleChange('gyroSpeed', parseFloat(e.target.value))} className="w-full accent-cyan-500" />
                        </div>

                        <div className="space-y-2 pt-2">
                            <label className="flex items-center justify-between cursor-pointer text-xs text-gray-300">
                                <span>3D Star Field</span>
                                <input type="checkbox" checked={theme.show3DStars !== false} onChange={e => handleChange('show3DStars', e.target.checked)} className="accent-cyan-500" />
                            </label>
                            <label className="flex items-center justify-between cursor-pointer text-xs text-gray-300">
                                <span>Asteroid Belt</span>
                                <input type="checkbox" checked={theme.showAsteroids !== false} onChange={e => handleChange('showAsteroids', e.target.checked)} className="accent-cyan-500" />
                            </label>
                            <label className="flex items-center justify-between cursor-pointer text-xs text-gray-300">
                                <span>Data Streams</span>
                                <input type="checkbox" checked={theme.showShootingStars !== false} onChange={e => handleChange('showShootingStars', e.target.checked)} className="accent-cyan-500" />
                            </label>
                        </div>
                    </div>

                    <button onClick={() => {
                        const defaultTheme = { 
                            primaryColor: '#06b6d4', secondaryColor: '#a855f7', animationSpeed: 1, glowIntensity: 1, spaceEffects: true, 
                            cursorType: 'default', cursorSize: 40, cursorDensity: 3, cursorLife: 1,
                            planetColor: "#2a2a2a", ring1Color: "#ff0055", ring2Color: "#00f0ff", ring3Color: "#ccff00",
                            ringThickness: 0.15, gyroSpeed: 1, show3DStars: true, showAsteroids: true, showShootingStars: true
                        };
                        setTheme(defaultTheme);
                        updateColor('#06b6d4', 'primaryColor');
                    }} className="w-full py-3 mt-6 text-sm text-slate-400 hover:text-white border border-slate-700 rounded-xl transition-colors hover:border-slate-500">
                        Reset All Defaults
                    </button>
                </div>
            );
        };

        // === MAIN APP ===
        const App = () => {
            const FORMSPREE_ENDPOINT = "https://formspree.io/f/xzzngoqy";
            const [data, setData] = useState(() => {
                try { return JSON.parse(localStorage.getItem('portfolioData')) || initialData; } catch { return initialData; }
            });
            
            // Merged Theme State
            const [theme, setTheme] = useState(() => {
                const defaults = { 
                    primaryColor: '#06b6d4', secondaryColor: '#a855f7', animationSpeed: 1, glowIntensity: 1, spaceEffects: true,
                    // Cursor Defaults
                    cursorType: 'default',
                    cursorSize: 40,
                    cursorDensity: 3,
                    cursorLife: 1,
                    // Gyro Defaults
                    planetColor: "#2a2a2a",
                    ring1Color: "#ff0055",
                    ring2Color: "#00f0ff",
                    ring3Color: "#ccff00",
                    ringThickness: 0.15,
                    gyroSpeed: 1.0,
                    show3DStars: true,
                    showAsteroids: true,
                    showShootingStars: true
                };
                try { return { ...defaults, ...JSON.parse(localStorage.getItem('portfolioTheme')) }; } catch { return defaults; }
            });

            const [isAdmin, setIsAdmin] = useState(false);
            const [viewMode, setViewMode] = useState('visitor');
            const [showLogin, setShowLogin] = useState(false);
            const [loginForm, setLoginForm] = useState({ email: '', pass: '', error: '' });
            const [settingsOpen, setSettingsOpen] = useState(false);
            const [selectedProject, setSelectedProject] = useState(null);
            const [visibleProjects, setVisibleProjects] = useState(6);
            const [mobileMenu, setMobileMenu] = useState(false);
            
            // Modals
            const [editModal, setEditModal] = useState({ open: false });
            const [profileModal, setProfileModal] = useState(false);
            const [cvModal, setCvModal] = useState(false);
            const [addModal, setAddModal] = useState({ open: false, type: null });
            const [mediaManager, setMediaManager] = useState({ open: false, projectId: null, type: null });

            const adminMode = isAdmin && viewMode === 'admin';

            useEffect(() => { localStorage.setItem('portfolioTheme', JSON.stringify(theme)); }, [theme]);

            useEffect(() => {
                AOS.init({ duration: 800, once: false, offset: 100 });
                
                // Native Cursor Logic (Dot/Outline)
                const dot = document.getElementById('cursor-dot');
                const outline = document.getElementById('cursor-outline');
                let lastX = 0, lastY = 0;

                const moveCursor = (e) => {
                    // Only update standard cursor if active
                    if(theme.cursorType !== 'fluid') {
                        dot.style.left = `${e.clientX}px`;
                        dot.style.top = `${e.clientY}px`;
                        outline.animate({ left: `${e.clientX}px`, top: `${e.clientY}px` }, { duration: 200, fill: 'forwards' });
                        
                        // Trail Logic
                        if ((Math.abs(e.clientX - lastX) > 25 || Math.abs(e.clientY - lastY) > 25)) {
                            const trail = document.createElement('div');
                            trail.className = 'cursor-trail';
                            trail.style.left = `${e.clientX}px`;
                            trail.style.top = `${e.clientY}px`;
                            document.body.appendChild(trail);
                            setTimeout(() => trail.remove(), 600);
                            lastX = e.clientX; lastY = e.clientY;
                        }
                    }
                };

                const handleHover = (e) => {
                    if(theme.cursorType !== 'fluid') {
                        const isInteractive = e.target.closest('a, button, .editable-highlight, input, textarea, .media-editable, [role="button"]');
                        const isTextInput = e.target.closest('input[type="text"], input[type="email"], input[type="password"], textarea');
                        outline.classList.toggle('hover', !!isInteractive && !isTextInput);
                        outline.classList.toggle('text-hover', !!isTextInput);
                    }
                };

                const handleClick = (e) => {
                    if(theme.cursorType !== 'fluid') {
                        outline.classList.add('clicking');
                        setTimeout(() => outline.classList.remove('clicking'), 150);
                    }
                    createClickParticles(e.clientX, e.clientY, [theme.primaryColor, theme.secondaryColor, '#10b981']);
                };

                window.addEventListener('mousemove', moveCursor);
                window.addEventListener('mousemove', handleHover);
                window.addEventListener('click', handleClick);

                return () => {
                    window.removeEventListener('mousemove', moveCursor);
                    window.removeEventListener('mousemove', handleHover);
                    window.removeEventListener('click', handleClick);
                };
            }, [theme]);

            const handleLogin = (e) => {
                e.preventDefault();
                if (loginForm.email !== ADMIN_EMAIL) return setLoginForm({...loginForm, error: 'Invalid email'});
                if (loginForm.pass !== ADMIN_PASS) return setLoginForm({...loginForm, error: 'Wrong password'});
                setIsAdmin(true); setViewMode('admin'); setShowLogin(false);
                setLoginForm({ email: '', pass: '', error: '' });
                showToast('Welcome back!');
            };

            const openEdit = (path, value, type = 'text', label = '', isArray = false) => {
                if (!adminMode) return;
                setEditModal({ open: true, path, value, type, label, isArray });
            };

            const deleteItem = (type, id) => {
                if (!confirm(`Delete this ${type}?`)) return;
                const key = type === 'experience' ? 'experience' : 'projects';
                const newData = { ...data, [key]: data[key].filter(x => x.id !== id) };
                setData(newData); localStorage.setItem('portfolioData', JSON.stringify(newData)); showToast('Deleted!');
            };

            // Main Render
            return (
                <ThemeContext.Provider value={{ theme, setTheme }}>
                    <div className="min-h-screen relative">
                        <FluidCursor />
                        <StarField theme={theme} />
                        <NebulaBackground theme={theme} />

                        {/* NAVBAR */}
                        <nav className="fixed w-full z-50 glass py-4">
                            <div className="container mx-auto px-6 flex justify-between items-center">
                                <div className={`text-2xl font-bold tracking-tight ${adminMode ? 'editable-highlight' : ''}`} onClick={() => openEdit('navBrand.first', data.navBrand?.first, 'text', 'Brand First')}>
                                    <span className="text-gradient">{data.navBrand?.first || 'Junaid'}</span>
                                    <span className="text-white">{data.navBrand?.second || 'Abid'}</span>
                                </div>
                                <div className="hidden md:flex items-center gap-6">
                                    {['Home', 'Experience', 'Skills', 'Projects', 'Contact'].map(item => (
                                        <a key={item} href={`#${item.toLowerCase()}`} className="text-sm font-medium text-slate-300 hover:text-white transition-colors relative group">
                                            {item}
                                            <span className="absolute -bottom-1 left-0 w-0 h-0.5 group-hover:w-full transition-all" style={{ background: theme.primaryColor }} />
                                        </a>
                                    ))}
                                    {isAdmin && (
                                        <div className="flex gap-1 p-1 rounded-full bg-slate-800/80 ml-4">
                                            <button onClick={() => setViewMode('visitor')} className={`px-4 py-2 rounded-full text-xs font-bold transition-all ${viewMode === 'visitor' ? 'bg-blue-600 text-white' : 'text-slate-400'}`}>üëÅÔ∏è View</button>
                                            <button onClick={() => setViewMode('admin')} className={`px-4 py-2 rounded-full text-xs font-bold transition-all ${viewMode === 'admin' ? 'text-white' : 'text-slate-400'}`} style={viewMode === 'admin' ? { background: `linear-gradient(135deg, ${theme.primaryColor}, ${theme.secondaryColor})` } : {}}>‚úèÔ∏è Edit</button>
                                        </div>
                                    )}
                                    {!isAdmin ? <button onClick={() => setShowLogin(true)} className="px-5 py-2 rounded-full border-2 text-xs font-bold tracking-wider transition-all hover:scale-105" style={{ borderColor: theme.primaryColor, color: theme.primaryColor }}>üîê Admin</button> : <button onClick={() => { setIsAdmin(false); setViewMode('visitor'); }} className="px-4 py-2 rounded-full bg-red-600/20 text-red-400 text-xs font-bold hover:bg-red-600/30">Logout</button>}
                                </div>
                                <button className="md:hidden text-white text-2xl" onClick={() => setMobileMenu(!mobileMenu)}>{mobileMenu ? '‚úï' : '‚ò∞'}</button>
                            </div>
                        </nav>

                        {/* Mobile Menu */}
                        {mobileMenu && (
                            <div className="mobile-menu">
                                {['Home', 'Experience', 'Skills', 'Projects', 'Contact'].map(item => (<a key={item} href={`#${item.toLowerCase()}`} className="text-3xl font-bold text-slate-300 hover:text-white" onClick={() => setMobileMenu(false)}>{item}</a>))}
                                {!isAdmin && <button onClick={() => { setShowLogin(true); setMobileMenu(false); }} className="text-xl font-bold" style={{ color: theme.primaryColor }}>Admin Login</button>}
                            </div>
                        )}

                        {/* Admin Tools */}
                        {adminMode && (
                            <>
                                <div className="floating-admin-panel hidden lg:flex">
                                    <button className="fab-btn bg-green-600 text-white" data-tooltip="Add Experience" onClick={() => setAddModal({ open: true, type: 'experience' })}>‚ûï</button>
                                    <button className="fab-btn bg-purple-600 text-white" data-tooltip="Add Project" onClick={() => setAddModal({ open: true, type: 'project' })}>üìÅ</button>
                                    <button className="fab-btn bg-orange-600 text-white" data-tooltip="Upload CV" onClick={() => setCvModal(true)}>üìÑ</button>
                                </div>
                                <div className="fixed top-20 left-1/2 -translate-x-1/2 z-40 px-6 py-3 rounded-full font-bold text-sm shimmer-text glass-strong border" style={{ borderColor: theme.primaryColor }}>‚ú® ADMIN MODE ‚Äî Click highlighted elements to edit</div>
                            </>
                        )}

                        {/* Modals & Popups */}
                        {showLogin && (
                            <div className="modal-overlay"><div className="glass-strong p-10 rounded-3xl w-[420px] relative"><button onClick={() => setShowLogin(false)} className="absolute top-4 right-4 text-slate-400 hover:text-white text-2xl">‚úï</button><h2 className="text-3xl font-bold mb-8 text-center text-gradient">üîê Admin Access</h2><form onSubmit={handleLogin} className="space-y-5"><input type="email" placeholder="Email" className="w-full bg-slate-800 border-2 border-slate-600 rounded-xl p-4 text-white" value={loginForm.email} onChange={(e) => setLoginForm({...loginForm, email: e.target.value})} /><input type="password" placeholder="Password" className="w-full bg-slate-800 border-2 border-slate-600 rounded-xl p-4 text-white" value={loginForm.pass} onChange={(e) => setLoginForm({...loginForm, pass: e.target.value})} />{loginForm.error && <p className="text-red-500 text-center text-sm">{loginForm.error}</p>}<button type="submit" className="w-full py-4 rounded-xl font-bold text-lg bg-cyan-600">Login</button></form></div></div>
                        )}
                        <EditModal editModal={editModal} setEditModal={setEditModal} data={data} setData={setData} theme={theme} />
                        {profileModal && <div className="modal-overlay" onClick={() => setProfileModal(false)}><div className="modal-content glass-strong p-8 max-w-md" onClick={e=>e.stopPropagation()}><h2 className="text-xl font-bold mb-4">Update Photo</h2><input className="w-full mb-4 bg-slate-800 p-2 rounded" placeholder="Image URL" onChange={e=>setData({...data, profileImage: e.target.value})}/><button className="w-full bg-cyan-600 py-2 rounded" onClick={()=>setProfileModal(false)}>Done</button></div></div>}
                        {addModal.open && <div className="modal-overlay"><div className="glass-strong p-8"><h2 className="text-xl font-bold">Feature restricted in demo</h2><button onClick={()=>setAddModal({open:false})} className="mt-4 bg-slate-700 px-4 py-2 rounded">Close</button></div></div>}
                        {selectedProject && <div className="modal-overlay" onClick={()=>setSelectedProject(null)}><div className="modal-content glass-strong p-8" onClick={e=>e.stopPropagation()}>
                            <h2 className="text-3xl font-bold mb-2">{selectedProject.title}</h2>
                            <p className="text-slate-300 mb-4">{selectedProject.longDesc}</p>
                            <div className="flex gap-2 mb-4">{selectedProject.skills?.map(s=><span key={s} className="skill-tag px-3 py-1 rounded text-sm">{s}</span>)}</div>
                            <div className="grid grid-cols-2 gap-4">{selectedProject.images?.map(img=><img src={img} className="rounded-lg"/>)}</div>
                            <button onClick={()=>setSelectedProject(null)} className="mt-6 bg-slate-700 px-6 py-2 rounded">Close</button>
                        </div></div>}
                        {mediaManager.open && <MediaManagerModal isOpen onClose={() => setMediaManager({ open: false })} projectId={mediaManager.projectId} mediaType={mediaManager.type} data={data} setData={setData} theme={theme} />}

                        {/* MAIN CONTENT */}
                        <main className="pt-20 relative z-10">
                            {/* HOME */}
                            <section id="home" className="min-h-screen flex items-center py-20">
                                <div className="container mx-auto px-6 grid lg:grid-cols-2 gap-16 items-center">
                                    <div data-aos="fade-right">
                                        <p className={`font-mono text-lg mb-3 ${adminMode ? 'editable-highlight' : ''}`} style={{ color: theme.primaryColor }} onClick={() => openEdit('heroGreeting', data.heroGreeting, 'text', 'Greeting')}>{data.heroGreeting}</p>
                                        <h1 className={`text-5xl lg:text-7xl font-extrabold text-white mb-4 leading-tight ${adminMode ? 'editable-highlight' : ''}`} onClick={() => openEdit('name', data.name, 'text', 'Name')}>{data.name}</h1>
                                        <h2 className={`text-2xl lg:text-3xl font-light text-slate-300 mb-3 ${adminMode ? 'editable-highlight' : ''}`} onClick={() => openEdit('role', data.role, 'text', 'Role')}>{data.role}</h2>
                                        <p className={`shimmer-text text-xl font-semibold mb-6 ${adminMode ? 'editable-highlight' : ''}`} onClick={() => openEdit('tagline', data.tagline, 'text', 'Tagline')}>{data.tagline}</p>
                                        <p className={`text-slate-400 max-w-xl mb-10 leading-relaxed text-lg ${adminMode ? 'editable-highlight' : ''}`} onClick={() => openEdit('summary', data.summary, 'textarea', 'Summary')}>{data.summary}</p>
                                        <div className="flex gap-5 flex-wrap mb-8">
                                            <a href="#contact" className="magnetic-btn px-10 py-4 text-white rounded-2xl font-bold shadow-glow transition-all hover:scale-105 text-lg" style={{ background: `linear-gradient(135deg, ${theme.primaryColor}, ${theme.secondaryColor})` }}>Contact Me ‚ú®</a>
                                        </div>
                                        <div className="flex gap-4">{data.socialLinks?.map(link => (<a key={link.id} href={link.url} target="_blank" className="w-12 h-12 rounded-full border border-slate-600 flex items-center justify-center hover:bg-slate-800 transition-all"><i className={`fa-brands ${link.icon}`}></i></a>))}</div>
                                    </div>
                                    <div data-aos="zoom-in" className="flex justify-center">
                                        <div className="profile-image-container relative w-80 h-80 rounded-full float-animation" style={{ boxShadow: `0 0 60px ${theme.primaryColor}40` }}>
                                            <div className="absolute inset-0 rounded-full" style={{ background: `linear-gradient(135deg, ${theme.primaryColor}40, ${theme.secondaryColor}40)`, padding: '4px' }}>
                                                <img src={data.profileImage || `https://ui-avatars.com/api/?name=${data.name?.replace(' ', '+') || 'User'}&background=0f172a&color=06b6d4&size=500`} alt="" className="w-full h-full object-cover rounded-full" />
                                            </div>
                                            {adminMode && <div className="profile-overlay rounded-full"><button onClick={() => setProfileModal(true)} className="px-6 py-3 rounded-xl font-bold bg-cyan-600">üì∑ Change</button></div>}
                                        </div>
                                    </div>
                                </div>
                            </section>

                            {/* EXPERIENCE */}
                            <section id="experience" className="py-24">
                                <div className="container mx-auto px-6 max-w-5xl">
                                    <h2 className={`text-4xl font-bold text-center mb-16 ${adminMode ? 'editable-highlight' : ''}`} onClick={() => openEdit('sectionHeaders.experience', data.sectionHeaders?.experience)}>{data.sectionHeaders?.experience}</h2>
                                    <div className="space-y-8">{data.experience?.map((job, idx) => (
                                        <div key={job.id} className="glass p-8 rounded-3xl relative" data-aos="fade-up">
                                            {adminMode && <button className="absolute top-2 right-2 text-red-500" onClick={() => deleteItem('experience', job.id)}>√ó</button>}
                                            <div className="flex justify-between mb-4">
                                                <div>
                                                    <h3 className={`text-2xl font-bold ${adminMode ? 'editable-highlight' : ''}`} onClick={() => openEdit(`experience.${idx}.role`, job.role)}>{job.role}</h3>
                                                    <p className="text-cyan-400">{job.company}</p>
                                                </div>
                                                <span className="text-slate-400 bg-slate-800 px-3 py-1 rounded h-fit">{job.period}</span>
                                            </div>
                                            <p className="text-slate-300">{job.desc}</p>
                                        </div>
                                    ))}</div>
                                </div>
                            </section>

                            {/* SKILLS */}
                            <section id="skills" className="py-24 bg-slate-900/50">
                                <div className="container mx-auto px-6">
                                    <h2 className="text-4xl font-bold text-center mb-16">Skills</h2>
                                    <div className="flex flex-wrap justify-center gap-4 max-w-5xl mx-auto">
                                        {data.skills?.map((skill, idx) => (
                                            <span key={idx} className={`px-7 py-4 glass rounded-2xl font-semibold text-lg border border-slate-700 transition-all ${adminMode ? 'editable-highlight' : ''}`} style={{ color: theme.primaryColor }} onClick={() => openEdit(`skills.${idx}`, skill)} data-aos="zoom-in">{skill}</span>
                                        ))}
                                    </div>
                                </div>
                            </section>

                            {/* PROJECTS */}
                            <section id="projects" className="py-24">
                                <div className="container mx-auto px-6">
                                    <h2 className="text-4xl font-bold text-center mb-16">Projects</h2>
                                    <div className="projects-grid max-w-7xl mx-auto">
                                        {data.projects?.slice(0, visibleProjects).map(project => (
                                            <ProjectCard key={project.id} project={project} onClick={() => setSelectedProject(project)} isAdmin={adminMode} theme={theme} onManageImages={() => setMediaManager({ open: true, projectId: project.id, type: 'images' })} onDelete={() => deleteItem('project', project.id)} />
                                        ))}
                                    </div>
                                </div>
                            </section>

                            {/* CONTACT with GYRO PLANET */}
                            <section id="contact" className="py-24 relative flex items-center justify-center overflow-hidden">
                                <div className="container mx-auto px-6 max-w-7xl">
                                    <div className="grid lg:grid-cols-2 gap-16 items-center">
                                        {/* LEFT: MATTE GYROSCOPE */}
                                        <div className="h-[600px] relative flex flex-col justify-center" data-aos="fade-right">
                                            <div className="absolute top-0 w-full text-center lg:text-left z-10 pointer-events-none">
                                                <h2 className={`text-5xl font-extrabold text-white mb-2 pointer-events-auto ${adminMode ? 'editable-highlight' : ''}`} onClick={() => openEdit('sectionHeaders.contactTitle', data.sectionHeaders?.contactTitle, 'text', 'Title')}>{data.sectionHeaders?.contactTitle}</h2>
                                                <p className={`text-xl text-slate-400 pointer-events-auto ${adminMode ? 'editable-highlight' : ''}`} onClick={() => openEdit('sectionHeaders.contactSubtitle', data.sectionHeaders?.contactSubtitle, 'text', 'Subtitle')}>{data.sectionHeaders?.contactSubtitle}</p>
                                            </div>
                                            {/* THE NEW PLANET ASSET */}
                                            <GyroPlanet />
                                        </div>

                                        {/* RIGHT: FORM */}
                                        <div className="glass p-8 lg:p-12 rounded-3xl shadow-2xl relative z-10" data-aos="fade-left">
                                            <div className="mb-8 space-y-4">
                                                <div className="flex items-center gap-4"><div className="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-2xl text-cyan-400">üìç</div><div><p className="text-sm text-slate-400">Location</p><p className="font-medium text-white">{data.location}</p></div></div>
                                                <div className="flex items-center gap-4"><div className="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-2xl text-cyan-400">üìß</div><div><p className="text-sm text-slate-400">Email</p><p className="font-medium text-white">{data.email}</p></div></div>
                                            </div>
                                            <form action={FORMSPREE_ENDPOINT} method="POST" className="space-y-6">
                                                <input type="text" name="name" required className="w-full bg-slate-900/50 border border-slate-700 rounded-xl p-4 text-white" placeholder="Name" />
                                                <input type="email" name="email" required className="w-full bg-slate-900/50 border border-slate-700 rounded-xl p-4 text-white" placeholder="Email" />
                                                <textarea name="message" rows="4" required className="w-full bg-slate-900/50 border border-slate-700 rounded-xl p-4 text-white" placeholder="Message"></textarea>
                                                <button type="submit" className="btn-electric w-full py-4 rounded-xl font-bold text-white text-lg shadow-lg">Send Message üöÄ</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </main>

                        <footer className="py-12 text-center glass mt-16">
                            <p className="text-slate-400 mb-2">¬© {new Date().getFullYear()} {data.name}. All rights reserved.</p>
                            <p className={`text-slate-500 text-sm ${adminMode ? 'editable-highlight' : ''}`} onClick={() => openEdit('footerText', data.footerText, 'text', 'Footer')}>{data.footerText}</p>
                        </footer>

                        <div className="settings-wheel">
                            <SettingsPanel isOpen={settingsOpen} theme={theme} setTheme={setTheme} />
                            <button className="settings-btn" onClick={() => setSettingsOpen(!settingsOpen)} style={{ color: theme.primaryColor }}>{settingsOpen ? '‚úï' : '‚öôÔ∏è'}</button>
                        </div>
                    </div>
                </ThemeContext.Provider>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>